# ad-cypress-lib

AppDirect Cypress Library is meant to be a shared library of custom Cypress Custom Commands for testing the AppDirect AppMarket.

It should be built as an AppDirect community project so everybody can add to it.

# Documentation
- [adCompanies](./doc/adCompanies.md)
- [adLogin](./doc/adLogin.md)
- [AdLoginStatic](./doc/AdLoginStatic.md)

## Add to your project

- make sure you have the following file with its content:

  `.npmrc`
  ```
  registry=https://artifactory.appdirect.tools/artifactory/api/npm/npm-repo
  ```

- install the package in your project OR use the ad-cypress AppDirect Cypress base image:
  > npm install ad-cypress-lib

## In your Cypress project

- In `cypress/support/index.js`
  > import 'ad-cypress-lib/cypress/support'

## In your test:
- use with the `cy` command:

  An example using the Cypress Custom Command from `ad-cypress-lib`:
  ```
    const options = {
      username: this.username,
      password: this.password
    }

    cy
      .adLoginApi(marketplace, options)
      .visit('/myapps')
        .
        .
        .
  ```
  Where `adLoginApi()` has been defined in `ad-cypress-lib` as a custom action; use the following format:
  ```
  Cypress.Commands.add("adLoginApi", (marketplace) => {
    .
    .
    .
  }
  ```

Rules to add functionalities:
- Add using Cypress Custom Commands, not using Page Objects model;
- Make sure to document so that people know how to use the functionnalities;

## Support

- From Cypress: https://docs.cypress.io/api/cypress-api/custom-commands.html
- You can get support from Slack `#qa-cypress-percy` channel
